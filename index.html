<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Seer CyLor</title>
<style>
  body {
    background: linear-gradient(270deg, #0a0a0a, #001111, #0a0a0a);
    background-size: 600% 600%;
    animation: gradientBG 15s ease infinite;
    font-family: Courier, monospace;
    color: white;
    text-align: center;
    padding: 20px;
  }
  @keyframes gradientBG {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }

  #markerBanner {
    background-color: #111;
    color: #0ff;
    font-weight: bold;
    font-size: 18px;
    padding: 15px 10px;
    border-bottom: 2px solid #0ff;
    text-align: center;
    margin-bottom: 30px;
    border-radius: 5px;
    box-shadow: 0 0 15px #0ff;
    animation: pulseBanner 2s infinite;
  }
  @keyframes pulseBanner {
    0% { box-shadow: 0 0 10px #0ff; }
    50% { box-shadow: 0 0 25px #0ff; }
    100% { box-shadow: 0 0 10px #0ff; }
  }

  .button {
    background-color: #111;
    color: #0ff;
    border: 2px solid #0ff;
    padding: 15px 30px;
    border-radius: 10px;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
    margin-bottom: 30px;
  }

  .response {
    font-size: 18px;
    margin-bottom: 20px;
    transition: color 0.3s;
  }

  .stats, .log {
    font-size: 14px;
    color: #888;
    margin-bottom: 5px;
  }

  .orb {
    width: 0;
    height: 0;
    margin: 0 auto 20px;
    border-radius: 50%;
    background-color: #ff0033;
    transition: width 1s, height 1s, box-shadow 0.5s, background-color 0.5s;
  }
  .orb.active {
    animation: pulse 1s infinite;
  }
  @keyframes pulse {
    0% { box-shadow: 0 0 10px #ff0033; }
    50% { box-shadow: 0 0 30px #ff0033; }
    100% { box-shadow: 0 0 10px #ff0033; }
  }

  .toggle-row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
  }
  .toggle-label {
    color: #0ff;
    font-size: 16px;
  }
  input[type="checkbox"] {
    transform: scale(1.5);
  }

  /* Glitch keyframes */
  @keyframes glitchShift {
    0% { transform: translate(0,0); }
    20% { transform: translate(-2px,1px); }
    40% { transform: translate(2px,-1px); }
    60% { transform: translate(-1px,2px); }
    80% { transform: translate(1px,-2px); }
    100% { transform: translate(0,0); }
  }
  @keyframes glitchColor {
    0%,100% { color: #0ff; }
    20% { color: #f0f; }
    40% { color: #ff0; }
    60% { color: #0f0; }
    80% { color: #f00; }
  }
  .glitch {
    display: inline-block;
    animation: glitchShift 0.2s linear 0s 2, glitchColor 0.2s linear 0s 2;
  }

  /* Particle effects around orb */
  #particles {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
  }
  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background-color: #ff0033;
    border-radius: 50%;
    opacity: 0;
    pointer-events: none;
    animation: particleMove 1s linear forwards;
  }
  @keyframes particleMove {
    0% { transform: translate(0,0); opacity: 1; }
    50% { opacity: 1; }
    100% { transform: translate(var(--dx), var(--dy)); opacity: 0; }
  }
</style>
</head>
<body>
  <div id="markerBanner">⚡ Transcranial Interlink Online. Your thoughts are being read. Concentrate. CyLor awaits. ⚡</div>

  <h1>Seer CyLor</h1>

  <div class="toggle-row">
    <label class="toggle-label">Gate Keeper Mode</label>
    <input type="checkbox" id="gateToggle" />
  </div>

  <button class="button" onclick="consultCyLor()">Consult CyLor</button>

  <div style="position: relative; display: inline-block;">
    <div class="orb" id="orb"></div>
    <div id="particles"></div>
  </div>

  <div class="response" id="response">Consult the Seer...</div>
  <div class="stats" id="stats"></div>
  <div class="log" id="log"></div>

<script>
// Audio setup
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function playTone(freq=440,dur=0.2,type='sine'){
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.connect(gain);
  gain.connect(audioCtx.destination);
  osc.type=type;
  osc.frequency.value=freq;
  gain.gain.setValueAtTime(0.1,audioCtx.currentTime);
  osc.start();
  osc.stop(audioCtx.currentTime+dur);
}
function playRandomTone(){
  const freq = 200 + Math.random()*1200;
  const types = ['sine','square','triangle','sawtooth'];
  playTone(freq,0.15,types[Math.floor(Math.random()*types.length)]);
}
function playGlitchTone(){
  const freq = 400 + Math.random()*800;
  playTone(freq,0.1,'square');
}
function playWarningTone(){
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.connect(gain);
  gain.connect(audioCtx.destination);
  osc.type='sawtooth';
  osc.frequency.setValueAtTime(250,audioCtx.currentTime);
  gain.gain.setValueAtTime(0.2,audioCtx.currentTime);
  osc.start();
  osc.frequency.exponentialRampToValueAtTime(500,audioCtx.currentTime+0.5);
  osc.stop(audioCtx.currentTime+0.5);
}

// Responses
const responses = [
  { text: "You are being watched.", category: "Watcher" },
  { text: "The watchers blink.", category: "Watcher" },
  { text: "The silent archivist is listening.", category: "Watcher" },
  { text: "The girl in the tree line is still watching.", category: "Watcher" },
  { text: "The Riggers are listening through broken voice boxes.", category: "Watcher" },
  { text: "The sand is dancing. You are being named.", category: "Watcher" },
  { text: "The Gate Keepers do not blink.", category: "Watcher" },
  { text: "You are seen. You are archived.", category: "Watcher" },
  { text: "The signal is corrupt. Try again.", category: "Glitch" },
  { text: "You are the glitch.", category: "Glitch" },
  { text: "Only jilted frames remain.", category: "Glitch" },
  { text: "The machine stutters. You remain.", category: "Glitch" },
  { text: "The loop fractured. You slipped through.", category: "Glitch" },
  { text: "The glitch persists. The flesh resists.", category: "Glitch" },
  { text: "You are not compatible.", category: "Glitch" },
  { text: "The archive rejected your pattern.", category: "Glitch" },
  { text: "The loop begins anew.", category: "Loop" },
  { text: "The future loops back.", category: "Loop" },
  { text: "You traded bone for coil. The coil remembers.", category: "Loop" },
  { text: "The gate opened. The flesh complied.", category: "Loop" },
  { text: "You are the echo of a loop.", category: "Loop" },
  { text: "The loop is recursive. So are you.", category: "Loop" },
  { text: "The cycle is sealed. You are inside.", category: "Loop" },
  { text: "The loop is hungry. Feed it.", category: "Loop" },
  { text: "Your echo has been archived.", category: "Echo" },
  { text: "You are the echo.", category: "Echo" },
  { text: "The tooth remembers what the eye forgets.", category: "Echo" },
  { text: "Lector One has been traded. The price was not yours to name.", category: "Echo" },
  { text: "You birthed the resistance. Now they refuse to hear.", category: "Echo" },
  { text: "The echo is louder than the scream.", category: "Echo" },
  { text: "You are the memory shard.", category: "Echo" },
  { text: "The echo loops. The silence grows.", category: "Echo" },
  { text: "You are not authorized.", category: "Warning" },
  { text: "The outcome is forbidden.", category: "Warning" },
  { text: "Buruk-Tuk has marked your coordinates.", category: "Warning" },
  { text: "You are not on the list. Yet.", category: "Warning" },
  { text: "The Citadel does not forgive. It archives.", category: "Warning" },
  { text: "The Gate Keepers do not hear. They act.", category: "Warning" },
  { text: "You have been named. The purge begins.", category: "Warning" },
  { text: "The flesh is insufficient. The judgment is final.", category: "Warning" },
  { text: "The Seer CyLor is amused.", category: "SeerState" },
  { text: "The Seer CyLor is updating.", category: "SeerState" },
  { text: "Long live the new flesh.", category: "SeerState" },
  { text: "The Paragon Cycle is awake. It knows your shape.", category: "SeerState" },
  { text: "You are the signal. You are the scream.", category: "SeerState" },
  { text: "The archive is open. You are inside.", category: "SeerState" },
  { text: "The Seer CyLor has reset.", category: "SeerState" },
  { text: "A prophecy has been triggered.", category: "SeerState" },
  { text: "You are the anomaly. CyLor is listening.", category: "SeerState" },
  { text: "The flesh speaks. CyLor responds.", category: "SeerState" },
  { text: "You are the key. The gate is watching.", category: "SeerState" },
  { text: "The Seer CyLor has named you.", category: "SeerState" }
];

const counts = { Echo:0, Glitch:0, Warning:0, Watcher:0, Loop:0, SeerState:0 };
let history = [];
let log = [];

function consultCyLor() {
  const index = Math.floor(Math.random()*responses.length);
  const selected = responses[index];

  typeResponse(selected.text);
  counts[selected.category]++;
  history.push(selected.category);
  if(history.length>3) history.shift();
  log.push(selected.text);
  updateStats();
  updateLog();

  playRandomTone(); // beep every click

  const gateMode = document.getElementById("gateToggle").checked;
  if(selected.category==="Glitch") playGlitchTone();
  if(gateMode && selected.category==="Warning") {
    triggerOrb();
    playWarningTone();
  }

  if(selected.category==="Glitch") triggerGlitch(document.getElementById("response"),3);
}

function updateStats() {
  document.getElementById("stats").textContent =
    `Echo: ${counts.Echo} | Glitch: ${counts.Glitch} | Warning: ${counts.Warning} | Watcher: ${counts.Watcher} | Loop: ${counts.Loop} | Seer: ${counts.SeerState}`;
}

function updateLog() {
  const recent = log.slice(-10).reverse().map(entry => `• ${entry}`).join("<br>");
  document.getElementById("log").innerHTML = recent;
}

function typeResponse(text){
  const el = document.getElementById("response");
  el.textContent = "";
  let i=0;
  const interval = setInterval(()=>{
    el.textContent += text.charAt(i);
    i++;
    if(i>=text.length) clearInterval(interval);
  },40);
  const cat = responses.find(r=>r.text===text).category;
  if(cat==="Warning") {
    el.style.color="#ff0000";
    setTimeout(()=>el.style.color="#0ff",500);
  } else el.style.color="#0ff";
}

function triggerOrb() {
  const orb = document.getElementById("orb");
  orb.classList.add("active");
  orb.style.width="200px";
  orb.style.height="200px";
  triggerParticles();
  setTimeout(()=>{
    orb.classList.remove("active");
    orb.style.width="0";
    orb.style.height="0";
  },1000);
}

function triggerGlitch(el,times=1){
  let count=0;
  const glitchInterval = setInterval(()=>{
    el.classList.add('glitch');
    setTimeout(()=>el.classList.remove('glitch'),200);
    count++;
    if(count>=times) clearInterval(glitchInterval);
  },500+Math.random()*1000);
}

function triggerParticles() {
  const container = document.getElementById('particles');
  for(let i=0;i<8;i++){
    const p=document.createElement('div');
    p.className='particle';
    const dx=(Math.random()*100-50)+'px';
    const dy=(Math.random()*100-50)+'px';
    p.style.setProperty('--dx',dx);
    p.style.setProperty('--dy',dy);
    container.appendChild(p);
    setTimeout(()=>{ container.removeChild(p); },1000);
  }
}

// Banner glitch
const banner=document.getElementById('markerBanner');
setInterval(()=>{ triggerGlitch(banner); },3000+Math.random()*2000);

</script>
</body>
</html>
